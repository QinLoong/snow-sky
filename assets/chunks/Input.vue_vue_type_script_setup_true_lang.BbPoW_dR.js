import{d as R,ae as U,h as d,O as D,k as _,y as T,o,c as l,F as j,r as c,e as n,m as F,a8 as P,af as E,N as I,p as z,b as w,a2 as q,aa as G,n as H,U as J}from"./framework.DeBpyR9V.js";import{_ as h}from"./Icon.vue_vue_type_script_setup_true_lang.DX-V4bA_.js";const oe=Symbol("formContextKey"),L=Symbol("formItemContextKey"),Q={key:0,class:"snow-input__prepend"},W={class:"snow-input__wrapper"},X={key:0,class:"snow-input__prefix"},Y=["type","disabled","readonly","autocomplete","placeholder","autofocus","form"],Z={key:1,class:"snow-input__append"},x=["disabled","readonly","autocomplete","placeholder","autofocus","form"],ae=R({name:"SnowInput",inheritAttrs:!1,__name:"Input",props:{type:{default:"text"},modelValue:{},size:{},disabled:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},placeholder:{},readonly:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},form:{}},emits:["update:modelValue","input","change","focus","blur","clear"],setup(K,{expose:M,emit:N}){const t=K,a=N,b=U(),s=d(t.modelValue),p=d(!1),r=d(!1),i=d(),f=D(L),m=e=>{f==null||f.validate(e).catch(u=>console.log(u.errors))},k=_(()=>t.clearable&&!t.disabled&&!!s.value&&p.value),y=_(()=>t.showPassword&&!t.disabled&&!!s.value),g=()=>{r.value=!r.value},S=()=>{},A=async()=>{await J(),i.value.focus()},$=()=>{a("update:modelValue",s.value),a("input",s.value),m("input")},C=()=>{a("change",s.value),m("change")},V=e=>{p.value=!0,a("focus",e)},B=e=>{console.log("blur triggered"),p.value=!1,a("blur",e),m("blur")},O=()=>{console.log("clear triggered"),s.value="",a("update:modelValue",""),a("clear"),a("input",""),a("change","")};return T(()=>t.modelValue,e=>{s.value=e}),M({ref:i}),(e,u)=>(o(),l("div",{class:H(["snow-input",{[`snow-input--${e.type}`]:e.type,[`snow-input--${e.size}`]:e.size,"is-disabled":e.disabled,"is-prepend":e.$slots.prepend,"is-append":e.$slots.append,"is-prefix":e.$slots.prefix,"is-suffix":e.$slots.suffix,"is-focus":p.value}])},[e.type!=="textarea"?(o(),l(j,{key:0},[e.$slots.prepend?(o(),l("div",Q,[c(e.$slots,"prepend")])):n("",!0),F("div",W,[e.$slots.prefix?(o(),l("span",X,[c(e.$slots,"prefix")])):n("",!0),P(F("input",I({class:"snow-input__inner",type:e.showPassword?r.value?"text":"password":e.type,ref_key:"inputRef",ref:i},z(b),{disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":u[0]||(u[0]=v=>s.value=v),onInput:$,onChange:C,onFocus:V,onBlur:B}),null,16,Y),[[E,s.value]]),e.$slots.suffix||k.value||y.value?(o(),l("span",{key:1,class:"snow-input__suffix",onClick:A},[c(e.$slots,"suffix"),k.value?(o(),w(h,{key:0,icon:"circle-xmark",class:"snow-input__clear",onClick:O,onMousedown:q(S,["prevent"])})):n("",!0),y.value&&r.value?(o(),w(h,{key:1,icon:"eye",class:"snow-input__password",onClick:g})):n("",!0),y.value&&!r.value?(o(),w(h,{key:2,icon:"eye-slash",class:"snow-input__password",onClick:g})):n("",!0)])):n("",!0)]),e.$slots.append?(o(),l("div",Z,[c(e.$slots,"append")])):n("",!0)],64)):P((o(),l("textarea",I({key:1,class:"snow-textarea__wrapper"},z(b),{ref_key:"inputRef",ref:i,disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":u[1]||(u[1]=v=>s.value=v),onInput:$,onChange:C,onFocus:V,onBlur:B}),null,16,x)),[[G,s.value]])],2))}});export{ae as _,L as a,oe as f};
